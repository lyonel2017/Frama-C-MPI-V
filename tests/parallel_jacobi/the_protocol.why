module MPI_the_protocol

use protocol.MPI_Protocol
use int.Int
use int.ComputerDivision

constant protocol_while_0 = Allgather (div 10000 size) MPI_float
constant protocol_4 = (Gather 0 (div 10000 size) MPI_float)
constant protocol_3 = (Seq (While 1000000 protocol_while_0) protocol_4)
constant protocol_2 = (Seq (Allgather (div 10000 size) MPI_float) protocol_3)
constant protocol_1 = (Seq (Scatter 0 (div 10000 size) MPI_float) protocol_2)
constant the_protocol : protocol = (Seq (Scatter 0 ((div 10000 size) * 10000) MPI_float) protocol_1)

end
